# ####### #################### #######
# ####### GWF ZÃ¤hlerdaten 25nn #######
# ####### #################### #######

# Heizung Energie kW
- sensor:
    - name: "GWF 2501 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2501']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2501']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2501_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2501_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2502 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2502']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2502']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2502_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2502_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2511 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2511']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2511']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2511_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2511_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2512 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2512']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2512']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2512_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2512_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2521 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2521']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2521']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2521_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2521_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2522 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2522']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2522']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2522_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2522_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2531 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2531']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2531']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2531_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2531_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2532 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2532']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2532']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2532_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2532_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2541 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2541']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2541']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2541_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2541_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2542 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2542']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2542']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2542_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2542_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2551 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2551']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2551']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2551_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2551_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2552 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2552']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2552']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2552_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2552_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2561 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2561']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2561']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2561_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2561_hz_kw

# Heizung Energie kW
- sensor:
    - name: "GWF 2562 HZ kW"
      state: "{% if states('sensor.gwf_25_state') == 'OK' -%}
      {{ 
(0
+state_attr('sensor.gwf_25_state','gwf')['WG2562']['energy_2']['wert']|float 
-state_attr('sensor.gwf_25_state','old')['WG2562']['energy_2']['wert']|float 
)|round(0)}}
    {%- else -%}
      {{ states('sensor.gwf_2562_hz_kw') }}
    {%- endif %}"
      attributes:
        last_updated:  "{{ state_attr('sensor.gwf_25_state','gwf')['datum'] + ' ' + state_attr('sensor.gwf_25_state','gwf')['zeit'] }}"
      device_class: power
      state_class: measurement
      unit_of_measurement: "kW"
      unique_id: template.sensor_gwf_2562_hz_kw
