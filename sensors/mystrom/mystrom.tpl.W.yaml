platform: template
sensors:

# ####### ######################## #######
# ####### Wattage Sensoren MyStrom #######
# ####### ######################## #######

  mystrom_power:
    friendly_name: "MyStrom W"
    value_template: "{{ (
(((state_attr('sensor.mystrom_201_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_201_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_201_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_202_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_202_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_202_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_203_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_203_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_203_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_204_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_204_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_204_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_205_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_205_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_205_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_206_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_206_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_206_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_207_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_207_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_207_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_208_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_208_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_208_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_209_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_209_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_209_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_210_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_210_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_210_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_211_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_211_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_211_report', 'Ws')|replace('None', 0)))|float) +
(((state_attr('sensor.mystrom_212_report', 'power')|replace('None', 0) if state_attr('sensor.mystrom_212_report', 'Ws')|safe == 'None' else state_attr('sensor.mystrom_212_report', 'Ws')|replace('None', 0)))|float)
)|round(0) }}"
    device_class: power
    unit_of_measurement: "W"
    attribute_templates:
      last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
    unique_id: template.sensor_mystrom_power

  # mystrom_201_power:
  #   friendly_name: "MyStrom 201 W"
  #   value_template: "{{ state_attr('sensor.mystrom_201_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_201_power

  # mystrom_202_power:
  #   friendly_name: "MyStrom 202 W"
  #   value_template: "{{ state_attr('sensor.mystrom_202_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_202_power

  # mystrom_203_power:
  #   friendly_name: "MyStrom 203 W"
  #   value_template: "{{ state_attr('sensor.mystrom_203_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_203_power

  # mystrom_204_power:
  #   friendly_name: "MyStrom 204 W"
  #   value_template: "{{ state_attr('sensor.mystrom_204_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_204_power

  # mystrom_205_power:
  #   friendly_name: "MyStrom 205 W"
  #   value_template: "{{ state_attr('sensor.mystrom_205_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_205_power

  # mystrom_206_power:
  #   friendly_name: "MyStrom 206 W"
  #   value_template: "{{ state_attr('sensor.mystrom_206_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_206_power

  # mystrom_207_power:
  #   friendly_name: "MyStrom 207 W"
  #   value_template: "{{ state_attr('sensor.mystrom_207_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_207_power

  # mystrom_208_power:
  #   friendly_name: "MyStrom 208 W"
  #   value_template: "{{ state_attr('sensor.mystrom_208_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_208_power

  # mystrom_209_power:
  #   friendly_name: "MyStrom 209 W"
  #   value_template: "{{ state_attr('sensor.mystrom_209_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_209_power

  # mystrom_210_power:
  #   friendly_name: "MyStrom 210 W"
  #   value_template: "{{ state_attr('sensor.mystrom_210_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_210_power

  # mystrom_211_power:
  #   friendly_name: "MyStrom 211 W"
  #   value_template: "{{ state_attr('sensor.mystrom_211_report', 'power')|replace('None', 0)|float|round(1) }}"
  #   device_class: power
  #   unit_of_measurement: "W"
  #   attribute_templates:
  #     last_updated:  "{{ now().day|string+'.'+now().month|string+'.'+now().year|string+' '+now().hour|string+':'+now().minute|string }}"
  #   unique_id: template.sensor_mystrom_211_power
